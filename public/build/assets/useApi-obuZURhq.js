import{bH as l,aw as a,bI as n}from"./main-D5YvgCjt.js";const u=l({baseUrl:"/api",fetchOptions:{headers:{Accept:"application/json"}},options:{refetch:!0,async beforeFetch({options:e}){const s=a("accessToken").value;return s&&(e.headers={...e.headers,Authorization:`Bearer ${s}`}),{options:e}},afterFetch(e){const{data:s,response:t}=e;let r=null;try{r=n(s)}catch(o){console.error(o)}return{data:r,response:t}},onFetchError(e){const{response:s}=e;s.status===401&&(a("userAbilityRules").value=null,a("userData").value=null,a("accessToken").value=null,window.location.replace("/login"))}}}),i=()=>{a("userAbilityRules").value=null,a("userData").value=null,a("accessToken").value=null,window.location.replace("/login")};export{i as a,u};
